<!DOCTYPE html>

<html>
<head>
  <title>MoshPit.js </title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="jquery.auto.html">
                jquery.auto.js
              </a>
            
              
              <a class="source" href="jquery.html">
                jquery.js
              </a>
            
              
              <a class="source" href="marionette.html">
                marionette.js
              </a>
            
              
              <a class="source" href="moshpit.html">
                moshpit.js
              </a>
            
              
              <a class="source" href="moshpit.messenger.html">
                moshpit.messenger.js
              </a>
            
              
              <a class="source" href="vanilla.html">
                vanilla.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1 id="moshpit-js-">MoshPit.js </h1>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p><strong>v0.1</strong></p>
<hr>
<p><a href="http://chadillac.github.io/MoshPit.js">http://chadillac.github.io/MoshPit.js</a></p>
<p>Copyright (c)2014 Chad Seaman. Distributed under 
<a href="https://github.com/chadillac/MoshPit.js/blob/master/LICENSE">MIT license</a></p>
<hr>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p><strong>Declare sizes globally, we’ll import later</strong><br><code>MoshPitSizes</code></p>
<p>We declare these here so they can be customized outside
of the application code by you.  We don’t assign/use them internally
until page DOM ready.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>window.MoshPitSizes = {
    mobile:{min:<span class="hljs-number">0</span>,max:<span class="hljs-number">480</span>},  
    tablet:{min:<span class="hljs-number">481</span>,max:<span class="hljs-number">1024</span>},
    desktop:{min:<span class="hljs-number">1025</span>,max:<span class="hljs-number">1820</span>},
    desktop_wide:{min:<span class="hljs-number">1821</span>,max:<span class="hljs-number">99999999</span>}
};
(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($)</span>{</span>
<span class="hljs-pi">    'use strict'</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p><strong>cache jQuery objs</strong><br><code>$html</code>, <code>$body</code></p>
<p>Cache jQuery objects of <code>&lt;html&gt;</code> and <code>&lt;body&gt;</code> DOM nodes to prevent
unneed lookups later when adding, removing, and testing for classes.</p>
<p><em>note: we must wait on <code>ready</code> event for caching the values (which is done below), but we’ll
get their variables in place now.</em></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> $html,$body;</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p><strong>css class configuration</strong><br><code>css</code></p>
<p>Configuration object for CSS classes that will be generated when we 
build our <code>-shown</code> and <code>state-</code> class chains in their respective <code>util</code> methods.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> css = {
        shown:{
            prefix:<span class="hljs-string">""</span>,
            postfix:<span class="hljs-string">"-shown"</span>    
        },
        state:{
            prefix:<span class="hljs-string">"state-"</span>,
            postfix:<span class="hljs-string">""</span>
        }
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p><strong>screen sizes lookup/config</strong><br><code>sizes</code></p>
<p>A config object for declaring an application state based on screen 
width measurements.  The property names map directly to the CSS class name
that will be used for that range.</p>
<p><code>.mobile</code>, <code>.tablet</code>, <code>.desktop</code>, <code>.desktop_wide</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> sizes = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p><strong>setTimeout ID storage/mapping</strong><br><code>timers</code></p>
<p>Store ID’s of our internal timeouts by name to allow us
to clear them if/when we need to (e.g. resize throttling)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> timers = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <h2 id="utilities-for-common-tasks">Utilities for common tasks</h2>
<hr>
<p><code>util</code></p>
<p>Keep us DRY, if we do it often, we do it universally.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> util = {</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p><strong>get a <em>view</em> namespace</strong><br><code>util.get_namespace</code>  </p>
<p>We accept various things and each has a standard namespace
that we expect.  Process a <em>view</em> and return it’s <code>namespace</code>
in the format we expect.</p>
<pre><code>util.get_namespace(MyApp.ExampleRegion.el);
&gt; <span class="hljs-string">'example'</span>
util.get_namespace($example);
&gt; <span class="hljs-string">'example'</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        get_namespace: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(view)</span> {</span>
            <span class="hljs-keyword">var</span> namespace = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (view <span class="hljs-keyword">instanceof</span> jQuery) {
                namespace = view.attr(<span class="hljs-string">'id'</span>);    
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> view == <span class="hljs-string">'string'</span>) {
                <span class="hljs-keyword">if</span> (view.indexOf(<span class="hljs-string">'#'</span>) == <span class="hljs-number">0</span>) {
                    view = view.substr(<span class="hljs-number">1</span>);
                }    
                namespace = view;
            }
            <span class="hljs-keyword">return</span> namespace;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p><strong>CSV to a jQuery class chain</strong><br><code>util.csv_to_class</code></p>
<p>Convert a CSV list into a class chain that can be used with
jQuery’s <code>addClass</code>, <code>removeClass</code>, and <code>hasClass</code> methods.<br>It also allows customization via <code>pre</code> and <code>post</code> which will
be added to each item in the list as it’s built.</p>
<pre><code>util.csv_to_class(<span class="hljs-string">'list,of,things'</span>,<span class="hljs-string">'foo_'</span>,<span class="hljs-string">'_bar'</span>)
&gt; <span class="hljs-string">"foo_list_bar foo_of_bar foo_things_bar"</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        csv_to_class: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(csv,pre,post)</span> {</span>
            <span class="hljs-keyword">var</span> pre = (<span class="hljs-keyword">typeof</span> pre != <span class="hljs-string">'undefined'</span> &amp;&amp; pre.length) ? <span class="hljs-string">" "</span>+pre : <span class="hljs-string">""</span>;
            <span class="hljs-keyword">var</span> post = (<span class="hljs-keyword">typeof</span> post != <span class="hljs-string">'undefined'</span> &amp;&amp; post.length) ? post+<span class="hljs-string">" "</span> : <span class="hljs-string">""</span>;
            csv = csv.replace(<span class="hljs-regexp">/\s/g</span>,<span class="hljs-string">''</span>);
            csv = csv.split(<span class="hljs-string">','</span>).join(<span class="hljs-string">'[post],'</span>).split(<span class="hljs-string">','</span>).join(<span class="hljs-string">'[pre]'</span>);
            csv = csv.replace(<span class="hljs-string">'[post]'</span>,post).replace(<span class="hljs-string">'[pre]'</span>,pre);
            csv = pre + csv + post;
            <span class="hljs-keyword">return</span> $.trim(csv);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p><strong>exec a view func for each item of a CSV</strong><br><code>util.exec_on_view_csv</code></p>
<p>Process a CSV list, execute our <code>action</code> using
each <em>view</em> from the list as the passed in param</p>
<pre><code><span class="hljs-comment">// &lt;body&gt;</span>
util.exec_on_view_csv(<span class="hljs-string">'list,of,things'</span>, handlers.show);
<span class="hljs-comment">// &lt;body class="list-shown of-shown things-shown"&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        exec_on_view_csv: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(csv,action)</span> {</span>
            <span class="hljs-keyword">var</span> csv = csv.replace(<span class="hljs-regexp">/\s/g</span>,<span class="hljs-string">''</span>).split(<span class="hljs-string">','</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,len=csv.length; i&lt;len; i++) {
                <span class="hljs-keyword">var</span> item = csv[i];
                <span class="hljs-keyword">var</span> view = $(<span class="hljs-string">'#'</span>+util.get_namespace(item));
                action.call(moshpit,view);    
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p><strong>exec a state func for each item of a CSV</strong><br><code>util.exec_on_state_csv</code></p>
<p>Process a CSV list, execute our <code>action</code> using
each <em>state</em> from the list as the passed in param</p>
<pre><code><span class="hljs-comment">// &lt;html&gt;</span>
util.exec_on_state_csv(<span class="hljs-string">'list,of,things'</span>, handlers.add_state);
<span class="hljs-comment">// &lt;html class="state_list state_of state_things"&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        exec_on_state_csv: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(csv,action)</span> {</span>
            <span class="hljs-keyword">var</span> csv = csv.replace(<span class="hljs-regexp">/\s/g</span>,<span class="hljs-string">''</span>).split(<span class="hljs-string">','</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,len=csv.length; i&lt;len; i++) {
                <span class="hljs-keyword">var</span> item = csv[i];
                action.call(moshpit,item);    
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p><strong>generate <em>shown</em> classes</strong><br><code>util.shown_class</code></p>
<p>Generate CSS class names for <em>shown</em> elements.</p>
<pre><code>util.shown_class(<span class="hljs-string">'list,of,things'</span>);
&gt; <span class="hljs-string">'list-shown of-shown things-shown'</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        shown_class: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(csv_list)</span> {</span>
            csv_list = csv_list.replace(<span class="hljs-regexp">/#/g</span>,<span class="hljs-string">''</span>);
            <span class="hljs-keyword">return</span> util.csv_to_class(csv_list,css.shown.prefix,css.shown.postfix);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p><strong>generate <em>state</em> classes</strong><br><code>util.state_chain</code></p>
<p>Generate CSS class names for user defined <em>states</em>.</p>
<pre><code>util.state_chain(<span class="hljs-string">'list,of,things'</span>);
&gt; <span class="hljs-string">'state_list state_of state_things'</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        state_chain: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(csv_list)</span> {</span>
            csv_list = csv_list.replace(<span class="hljs-regexp">/#/g</span>,<span class="hljs-string">''</span>);
            <span class="hljs-keyword">return</span> util.csv_to_class(csv_list,css.state.prefix,css.state.postfix);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p><strong>generate <em>size</em> classes</strong><br><code>util.get_sizes_chain</code></p>
<p>Generate CSS class chain for various screen sizes based on 
the structure of <code>sizes</code> config object.</p>
<pre><code>util.get_sizes_chain();
&gt; <span class="hljs-string">'mobile table desktop desktop_wide'</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        get_sizes_chain: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sizes_chain) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sizes_chain;
            }
            <span class="hljs-keyword">var</span> sizes_chain = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> size <span class="hljs-keyword">in</span> sizes) {
                <span class="hljs-keyword">if</span> (sizes.hasOwnProperty(size)) {
                    sizes_chain += size+<span class="hljs-string">" "</span>;
                }
            }
            <span class="hljs-keyword">this</span>.sizes_chain = $.trim(sizes_chain);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sizes_chain;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p><strong>get the current display size</strong><br><code>util.get_size</code></p>
<p>Test the current window size and return the name
of the size that matches based on <code>sizes.min</code> and
<code>sizes.max</code> configuration settings.</p>
<pre><code><span class="hljs-comment">//window.width is 800px</span>
util.get_size();
&gt; <span class="hljs-string">'tablet'</span> 
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        get_size: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            <span class="hljs-keyword">var</span> win_w = $(window).width();
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> size <span class="hljs-keyword">in</span> sizes) {
                <span class="hljs-keyword">var</span> min = sizes[size].min;
                <span class="hljs-keyword">var</span> max = sizes[size].max;
                <span class="hljs-keyword">if</span> (sizes.hasOwnProperty(size)) {
                    <span class="hljs-keyword">if</span> ( win_w &gt;= min &amp;&amp; win_w &lt;= max ) {
                        <span class="hljs-keyword">return</span> size;
                    }
                }
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p><strong>test if element is shown</strong><br><code>util.is_shown</code></p>
<p>Helper method to see if a <code>view</code> is currently displayed/shown.</p>
<pre><code><span class="hljs-comment">// #example_thing shown</span>
util.is_shown(<span class="hljs-string">'example_thing'</span>);
&gt; <span class="hljs-literal">true</span>
<span class="hljs-comment">// #example_thing hidden</span>
util.is_shown(<span class="hljs-string">'example_thing'</span>);
&gt; <span class="hljs-literal">false</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        is_shown: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespace)</span> {</span>
            <span class="hljs-keyword">return</span> $body.hasClass(util.shown_class(namespace));
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p><strong>test if a state is currently set</strong><br><code>util.has_state</code></p>
<p>Helper method to see if an application state is currently set.</p>
<pre><code><span class="hljs-comment">// example_state is set</span>
util.has_state(<span class="hljs-string">'example'</span>);
&gt; <span class="hljs-literal">true</span>
<span class="hljs-comment">// example_state is not set</span>
util.has_state(<span class="hljs-string">'example'</span>);
&gt; <span class="hljs-literal">false</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        has_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(state)</span> {</span>
            <span class="hljs-keyword">return</span> $html.hasClass(css.state.prefix + state + css.state.postfix);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p><strong>Store vanilla jQuery methods we’ll replace</strong><br><code>util.jquery_funcs</code>  </p>
<p>We’ll need to store functions for <code>$.show</code>, <code>$.hide</code>
and <code>$.toggle</code> that we can use in our own functions
we’ll replace in jQuery.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        jquery_funcs:<span class="hljs-literal">false</span>,</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p><strong>copy jQuery default methods, inject our modified versions</strong><br><code>util.jquery_inject</code></p>
<p>We’ll need to listen for jQuery methods <code>.show</code>,<code>.hide</code>, and <code>.toggle</code>
to ensure calls to them still work with <code>MoshPit</code>.  We’ll need to 
modify them slightly to do this.  To ensure they continue to function
normally we’ll copy the origionals locally, overwrite them with our own
and failover to the default method if it’s not applicible to ourselves.</p>
<p><em>note: although we call this multiple times from <code>moshpit.add_jquery</code> the
core copying and overwriting only happens on the inital call.  It’s also
worth noting this only happens if using auto/tracking functionality via <code>MoshPit.join</code></em></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        jquery_inject: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            <span class="hljs-keyword">if</span> (util.jquery_funcs === <span class="hljs-literal">false</span>) {
                util.jquery_funcs = {};
                util.jquery_funcs.show = $.fn.show;
                $.fn.show = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
                    <span class="hljs-keyword">var</span> namespace = util.get_namespace($(<span class="hljs-keyword">this</span>));
                    <span class="hljs-keyword">if</span> (moshpit.views[namespace]) {
                        handlers.show(namespace);
                        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">return</span> util.jquery_funcs.show.apply(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">arguments</span>);    
                    }
                };
                util.jquery_funcs.hide = $.fn.hide;
                $.fn.hide = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
                    <span class="hljs-keyword">var</span> namespace = util.get_namespace($(<span class="hljs-keyword">this</span>));
                    <span class="hljs-keyword">if</span> (moshpit.views[namespace]) {
                        handlers.hide(namespace);
                        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">return</span> util.jquery_funcs.show.apply(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">arguments</span>);    
                    }
                };    
                util.jquery_funcs.toggle = $.fn.toggle;
                $.fn.toggle = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
                    <span class="hljs-keyword">var</span> namespace = util.get_namespace($(<span class="hljs-keyword">this</span>));
                    <span class="hljs-keyword">if</span> (moshpit.views[namespace]) {
                        handlers.toggle(namespace); 
                        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">return</span> util.jquery_funcs.toggle.apply(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">arguments</span>);    
                    }     
                }
            }
        }
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <h2 id="event-handlers">event handlers</h2>
<hr>
<p><code>handlers</code></p>
<p>Various events we care about handling internally.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> handlers = {</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p><strong>hide a view</strong><br><code>handlers.hide</code></p>
<p>Hide a <em>view</em> by removing it’s class from <code>&lt;body&gt;</code>.</p>
<pre><code><span class="hljs-comment">// &lt;body class="example-shown"&gt;</span>
handlers.hide(<span class="hljs-string">'example'</span>);
<span class="hljs-comment">// &lt;body class=""&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        hide: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespace)</span> {</span>
            $body.removeClass(util.shown_class(util.get_namespace(namespace))); 
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p><strong>show a view</strong><br><code>handlers.show</code></p>
<p>Show a <em>view</em> by adding it’s class to <code>&lt;body&gt;</code>.</p>
<pre><code><span class="hljs-comment">// &lt;body&gt;</span>
handlers.show(<span class="hljs-string">'example'</span>);
<span class="hljs-comment">// &lt;body class="example-shown"&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        show: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespace)</span> {</span>
            $body.addClass(util.shown_class(util.get_namespace(namespace))); 
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p><strong>toggle a view</strong><br><code>handlers.toggle</code></p>
<p>Flip a <em>view</em>‘s shown state based on it’s current state.</p>
<pre><code><span class="hljs-comment">//&lt;body&gt;</span>
handlers.toggle(<span class="hljs-string">'example'</span>);
<span class="hljs-comment">//&lt;body class="example-shown"&gt;</span>
handlers.toggle(<span class="hljs-string">'example'</span>);
<span class="hljs-comment">//&lt;body class=""&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        toggle: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespace)</span> {</span>
            namespace = util.get_namespace(namespace);
            <span class="hljs-keyword">if</span> (util.is_shown(namespace)) {
                handlers.hide(namespace);
            } <span class="hljs-keyword">else</span> {
                handlers.show(namespace);    
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p><strong>hide a Marionette component</strong><br><code>handlers.marionette_hide</code></p>
<p>Deal with a Marionette component being closed/hidden.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        marionette_hide: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            handlers.hide(util.get_namespace(<span class="hljs-keyword">this</span>.el));
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p><strong>show a Marionette component</strong><br><code>handlers.marionette_show</code></p>
<p>Deal with a Marionette component being shown</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        marionette_show: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            handlers.show(util.get_namespace(<span class="hljs-keyword">this</span>.el));
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p><strong>add a state class</strong><br><code>handlers.add_state</code></p>
<p>Add a user defined state to the <code>&lt;html&gt;</code> element.</p>
<pre><code><span class="hljs-comment">// &lt;html&gt;</span>
handlers.add_state(<span class="hljs-string">'example'</span>);
<span class="hljs-comment">// &lt;html class="state-example"&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        add_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(state)</span> {</span>
            $html.addClass(css.state.prefix+state+css.state.postfix);   
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p><strong>delete a state class</strong><br><code>handlers.del_state</code></p>
<p> Remove a user defined state from the <code>&lt;html&gt;</code> element. </p>
<pre><code><span class="hljs-comment">// &lt;html class="state_example"&gt;</span>
handlers.del_state(<span class="hljs-string">'example'</span>);
<span class="hljs-comment">// &lt;html class=""&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        del_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(state)</span> {</span>
            $html.removeClass(css.state.prefix+state+css.state.postfix);   
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p><strong>toggle a state class</strong><br><code>handlers.toggle_state</code></p>
<p>Add or remove a user defined state from <code>&lt;html&gt;</code> element
depending on it currently being set.</p>
<pre><code><span class="hljs-comment">// &lt;html&gt;</span>
handlers.toggle_state(<span class="hljs-string">'example'</span>);
<span class="hljs-comment">// &lt;html class="state_example"&gt;</span>
handlers.toggle_state(<span class="hljs-string">'example'</span>);
<span class="hljs-comment">// &lt;html class=""&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        toggle_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(state)</span> {</span>
            <span class="hljs-keyword">if</span> (util.has_state(state)) {
                handlers.del_state(state);
            } <span class="hljs-keyword">else</span> {
                handlers.add_state(state);    
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p><strong>window.resize handler/throttling</strong><br><code>handlers.resize</code>  </p>
<p>Handle <code>resize</code> events from <code>window</code> with a short timeout
to ensure we don’t spam them when they fire in rapid succession.
Also handle the adding and removing of size classes to the <code>&lt;html&gt;</code>
element.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        resize: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(evnt,stable)</span> {</span>
            clearTimeout(timers.resize);
            <span class="hljs-keyword">if</span> (stable) {
                $html.removeClass(util.get_sizes_chain()).addClass(util.get_size());
                <span class="hljs-keyword">return</span>;
            }
            timers.resize = setTimeout(handlers.resize,<span class="hljs-number">100</span>,evnt,<span class="hljs-literal">true</span>);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p><strong>moshpit click handler</strong><br><code>handlers.click</code>  </p>
<p>Handle <code>click</code> events from <code>document</code> to see if we need to handle them
for any <code>MoshPit</code> related activity.</p>
<p><em>note: we target [data-moshpit] when we assign the handler so we’re only
catching the events we already know we care about.</em></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        click: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(evnt)</span> {</span>
            <span class="hljs-keyword">var</span> $clicked = $(evnt.currentTarget);
            <span class="hljs-keyword">var</span> action = $clicked.data(<span class="hljs-string">'moshpit'</span>);
            <span class="hljs-keyword">var</span> view = $clicked.data(<span class="hljs-string">'view'</span>);
            <span class="hljs-keyword">var</span> state = $clicked.data(<span class="hljs-string">'state'</span>);
            <span class="hljs-keyword">if</span> (view || state) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> handlers[action] == <span class="hljs-string">'function'</span>) {
                    <span class="hljs-keyword">if</span> (state) {
                        util.exec_on_state_csv(state, handlers[action]);
                    } <span class="hljs-keyword">else</span> {
                        util.exec_on_view_csv(view, handlers[action]);
                    }
                    evnt.preventDefault();
                }
            }
        }
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <h2 id="private-setup-methods">Private setup methods</h2>
<hr>
<p><code>moshpit</code></p>
<p>Collection of setup and teardown procedures for
automated tracking of elements that use <code>MoshPit.join</code>
and <code>MoshPit.leave</code>.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> moshpit = {</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p><strong>Tracked views/namespaces lookup</strong><br><code>moshpit.views</code></p>
<p>A lookup object we’ll use to test events from
jQuery to see if it’s related to a <em>view</em>
we’re currently tracking.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        views:{},</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p><strong>Setup a tracked Marionette component</strong><br><code>moshpit.add_marionette</code>  </p>
<p>Marionette components have their own event system  via <code>Marionette.Wreqr</code> for
tracking <code>.hide</code>,<code>.show</code>,<code>.close</code> events.  We’ll utilize them
to ease integration before setting up our jQuery tracking
for the <em>view</em> <code>el</code> as well.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        add_marionette: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(view)</span> {</span>
            view.on(<span class="hljs-string">'show'</span>, handlers.marionette_show);
            view.on(<span class="hljs-string">'close'</span>, handlers.marionette_hide);
            moshpit.add_jquery.call(moshpit,$(view.el));
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p><strong>Remove tracking of Marionette component</strong><br><code>moshpit.del_marionette</code></p>
<p>When removing tracking of a Marionette component we’ll need
to remove the <code>Wreqr</code> events we’d subscribed to during setup
as well as remove it’s jQuery tracking.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        del_marionette: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(view)</span> {</span>
            view.off(<span class="hljs-string">'show'</span>, handlers.marionette_show);
            view.off(<span class="hljs-string">'close'</span>, handlers.marionette_hide);
            moshpit.del_jquery.call(moshpit,$(view.el));
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p><strong>Add a tracked <em>view</em></strong><br><code>moshpit.add_jquery</code></p>
<p>We’ll rely on jQuery for tracking <em>view</em> changes that come in
via <code>.show</code>, <code>.hide</code>, and <code>.toggle</code>.  </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        add_jquery: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($view)</span> {</span>
            util.jquery_inject(); <span class="hljs-comment">// ensure we intergrate ourselves into jquery</span>
            <span class="hljs-keyword">var</span> namespace = util.get_namespace($view);
            moshpit.views[namespace] = <span class="hljs-literal">true</span>;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p><strong>Remove a tracking from a <em>view</em></strong><br><code>moshpit.del_jquery</code></p>
<p>Stop tracking a <em>view</em> and hide it.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        del_jquery: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($view)</span> {</span>
            <span class="hljs-keyword">var</span> namespace = util.get_namespace($view);
            moshpit.views[namespace] = <span class="hljs-literal">false</span>;
            handlers.hide(namespace);
        }
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <h2 id="setup-moshpit-js-globals">Setup MoshPit.js globals</h2>
<hr>
<p><code>MoshPit</code></p>
<p>We’ll expose <code>MoshPit</code> on the <code>window</code> object with
a handful of externally usable features we want others
to have access to.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    window.MoshPit = {</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p><strong>enable tracking of a <em>view</em></strong><br><code>MoshPit.join</code></p>
<p>Will be called externally when a <em>view</em> wants to
be tracked by <code>MoshPit</code>,</p>
<pre><code><span class="hljs-comment">// &lt;body&gt; </span>
$(<span class="hljs-string">'#example'</span>).show(); 
<span class="hljs-comment">// &lt;body&gt;</span>

<span class="hljs-comment">// &lt;body&gt;</span>
MoshPit.join(<span class="hljs-string">'example'</span>);
$(<span class="hljs-string">'#example'</span>).show();
<span class="hljs-comment">// &lt;body class="example_shown"&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        join: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(view)</span> {</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> view == <span class="hljs-string">'string'</span>) {
                    util.exec_on_view_csv(view, moshpit.add_jquery);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> view == <span class="hljs-string">'object'</span>) {
                <span class="hljs-keyword">if</span> (view <span class="hljs-keyword">instanceof</span> jQuery) {
                    moshpit.add_jquery.call(moshpit, view);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (view <span class="hljs-keyword">instanceof</span> Marionette.Region
                           || view <span class="hljs-keyword">instanceof</span> Marionette.View
                           || view <span class="hljs-keyword">instanceof</span> Marionette.ItemView
                           || view <span class="hljs-keyword">instanceof</span> Marionette.Layout) {
                    moshpit.add_marionette.call(moshpit, view);
                }
            }
            <span class="hljs-keyword">return</span> MoshPit;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p><strong>disable tracking of a <em>view</em></strong><br><code>MoshPit.leave</code></p>
<p>Will be called externally when a <em>view</em> no longer
should be tracked by <code>MoshPit</code>.</p>
<pre><code><span class="hljs-comment">// &lt;body&gt;</span>
MoshPit.join(<span class="hljs-string">'example'</span>);
$(<span class="hljs-string">'#example'</span>).show();
<span class="hljs-comment">// &lt;body class="example_shown"&gt;</span>
MoshPit.leave(<span class="hljs-string">'example'</span>);
<span class="hljs-comment">// &lt;body class=""&gt;</span>
$(<span class="hljs-string">'#example'</span>).show();
<span class="hljs-comment">// &lt;body class=""&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        leave: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(view)</span> {</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> view == <span class="hljs-string">'string'</span>) {
                    util.exec_on_view_csv(view, moshpit.del_jquery);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> view == <span class="hljs-string">'object'</span>) {
                <span class="hljs-keyword">if</span> (view <span class="hljs-keyword">instanceof</span> jQuery) {
                    moshpit.del_jquery.call(moshpit, view);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (view <span class="hljs-keyword">instanceof</span> Marionette.Region
                           || view <span class="hljs-keyword">instanceof</span> Marionette.View
                           || view <span class="hljs-keyword">instanceof</span> Marionette.ItemView
                           || view <span class="hljs-keyword">instanceof</span> Marionette.Layout) {
                    moshpit.del_marionette.call(moshpit, view);
                }
            }
            <span class="hljs-keyword">return</span> MoshPit;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p><strong>manually show a <em>view</em></strong><br><code>MoshPit.show</code></p>
<p>Let’s an external resource <code>show</code> a <em>view</em> regardless
of it’s tracked status.</p>
<pre><code><span class="hljs-comment">// &lt;body&gt;</span>
<span class="hljs-keyword">if</span> (show_the_example) {
    MoshPit.show(<span class="hljs-string">'example'</span>);
}
<span class="hljs-comment">// &lt;body class="example_shown"&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        show: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(view)</span> {</span>
            util.exec_on_view_csv(view, handlers.show);
            <span class="hljs-keyword">return</span> MoshPit;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p><strong>manually hide a <em>view</em></strong><br><code>MoshPit.hide</code></p>
<p>Let’s an external resource <code>hide</code> a <em>view</em> regardless
of it’s tracked status.</p>
<pre><code><span class="hljs-comment">// &lt;body class="example_shown"&gt;</span>
<span class="hljs-keyword">if</span> (hide_the_example) {
    MoshPit.hide(<span class="hljs-string">'example'</span>);
}
<span class="hljs-comment">// &lt;body class=""&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        hide: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(view)</span> {</span>
            util.exec_on_view_csv(view, handlers.hide);
            <span class="hljs-keyword">return</span> MoshPit;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p><strong>manually toggle a <em>view</em></strong><br><code>MoshPit.toggle</code></p>
<p>Let’s an external resource <code>toggle</code> a <em>view</em> regardless
of it’s tracked status.</p>
<pre><code>MoshPit.toggle(<span class="hljs-string">'example'</span>);
<span class="hljs-comment">// &lt;body class="example_shown"&gt;</span>
MoshPit.toggle(<span class="hljs-string">'example'</span>);
<span class="hljs-comment">// &lt;body class=""&gt;</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        toggle: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(view)</span> {</span>
            util.exec_on_view_csv(view, handlers.toggle);
            <span class="hljs-keyword">return</span> MoshPit;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p><strong>check if a <em>view</em> is shown</strong><br><code>MoshPit.is_shown</code></p>
<p>Externally accessible means to find out if a
<em>view</em> is currently being shown.</p>
<pre><code><span class="hljs-comment">// &lt;body class="example_shown"</span>
MoshPit.is_shown(<span class="hljs-string">'example'</span>);
&gt; <span class="hljs-literal">true</span>
MoshPit.hide(<span class="hljs-string">'example'</span>);
<span class="hljs-comment">// &lt;body class=""</span>
MoshPit.is_shown(<span class="hljs-string">'example'</span>);
&gt; <span class="hljs-literal">false</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        is_shown: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(view)</span> {</span>
            <span class="hljs-keyword">return</span> util.is_shown(util.get_namespace(view));
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <p><strong>add a <em>view state</em></strong><br><code>MoshPit.add_state</code></p>
<p>Applies a <em>view state</em> to the entire page.</p>
<pre><code><span class="hljs-comment">// &lt;html&gt;</span>
MoshPit.add_state(<span class="hljs-string">'highlight_all_examples'</span>);
<span class="hljs-comment">// &lt;html class="state_highlight_all_examples"&gt;</span>
</code></pre><p><em>note: states are useful for modifying multiple 
</em>views<em> and allows for simplier LESS structures and
less (as in LoC) generated CSS</em></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        add_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(state)</span> {</span>
            util.exec_on_state_csv(state, handlers.add_state);
            <span class="hljs-keyword">return</span> MoshPit;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p><strong>remove a <em>view state</em></strong><br><code>MoshPit.remove_state</code></p>
<p>Removes a <em>view state</em> from the entire page.</p>
<pre><code>// &lt;html class="state_highlight_all_examples"&gt;
MoshPit.remove_state('highlight_all_examples");
// &lt;html class=""&gt;
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        remove_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(state)</span> {</span>
            util.exec_on_state_csv(state, handlers.del_state);
            <span class="hljs-keyword">return</span> MoshPit;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <p><strong>toggle a <em>view state</em></strong><br><code>MoshPit.toggle_state</code></p>
<p>Toggles a <em>view state</em> on the entire page.</p>
<pre><code>// &lt;html&gt;
MoshPit.toggle_state('highlight_all_examples");
// &lt;html class="state_highlight_all_examples"&gt;
MoshPit.toggle_state('highlight_all_examples");
// &lt;html class=""&gt;
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        toggle_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(state)</span> {</span>
            util.exec_on_state_csv(state, handlers.toggle_state);
            <span class="hljs-keyword">return</span> MoshPit;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p><strong>check if a <em>view state</em> is enabled</strong><br><code>MoshPit.has_state</code></p>
<p>Externally accessible means to find out if a
<em>view state</em> is currently active.</p>
<pre><code><span class="hljs-comment">// &lt;html class="state_highlight_all_examples"&gt;</span>
MoshPit.has_state(<span class="hljs-string">"highlight_all_examples"</span>);
&gt; <span class="hljs-literal">true</span>
<span class="hljs-comment">// &lt;html class=""&gt;</span>
MoshPit.has_state(<span class="hljs-string">"highlight_all_examples"</span>);
&gt; <span class="hljs-literal">false</span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        has_state: util.has_state,</pre></div></div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <p><strong>get current display size</strong><br><code>MoshPit.get_size</code></p>
<p>Externally accessible means to find out the current
size of the display.</p>
<pre><code><span class="hljs-comment">// &lt;html class="desktop"&gt;</span>
MoshPit.get_size();
&gt; desktop
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        get_size: util.get_size</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>    };</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <h2 id="initialization-steps">initialization steps</h2>
<hr>
<p><code>init</code></p>
<p>Steps we’ll need to take on <code>domready</code>.<br>Hook init into jQuery’s <code>$.ready</code> event.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> init = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
        sizes =  window.MoshPitSizes;
        handlers.resize();
        $html = $(<span class="hljs-string">'html'</span>);
        $body = $(<span class="hljs-string">'body'</span>);
        $(window).on(<span class="hljs-string">'resize'</span>, handlers.resize);
        $(document).on(<span class="hljs-string">'click'</span>,<span class="hljs-string">'[data-moshpit]'</span>, handlers.click);     
    };
    $(init);</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-52">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>})(jQuery);</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
