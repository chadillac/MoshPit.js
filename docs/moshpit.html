<!DOCTYPE html>

<html>
<head>
  <title>MoshPit.js v0.1</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h1 id="moshpit-js-v0-1">MoshPit.js v0.1</h1>

            </div>
            
            <div class="content"><div class='highlight'><pre>(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($)</span>{</span>
<span class="hljs-pi">    'use strict'</span>;

    <span class="hljs-keyword">var</span> $html,$body;</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h1 id="css">css</h1>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Simple lookup to allow easy configuration of CSS classes we’ll use
to build our shown and states classes that we’ll be expecting</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> css = {
        shown:{
            prefix:<span class="hljs-string">""</span>,
            postfix:<span class="hljs-string">"_shown"</span>    
        },
        state:{
            prefix:<span class="hljs-string">"state_"</span>,
            postfix:<span class="hljs-string">""</span>
        }
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <h1 id="sizes">sizes</h1>

            </div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>sceen sizes and their associated class names</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> sizes = {</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p><code>html.mobile</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        mobile:{min:<span class="hljs-number">0</span>,max:<span class="hljs-number">400</span>},</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p><code>html.tablet</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        tablet:{min:<span class="hljs-number">401</span>,max:<span class="hljs-number">900</span>},</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p><code>html.desktop</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        desktop:{min:<span class="hljs-number">901</span>,max:<span class="hljs-number">1200</span>},</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p><code>html.desktop_wide</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        desktop_wide:{min:<span class="hljs-number">1201</span>,max:<span class="hljs-number">99999999</span>}
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <h1 id="timers">timers</h1>

            </div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>ID’s of our internal timeouts to allow us
to clear them if/when we need to (e.g. resize throttling)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> timers = {};</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <h1 id="util">util</h1>

            </div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Utilities for common tasks</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> util = {</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p><code>util.get_namespace</code></p>
<hr>
<p>Get an objects namespace by testing types and doing
things like removing a leading # in selectors to getting the
id attr of a passed in jQuery object <em>(when applicable)</em></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        get_namespace: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Mosher)</span> {</span>
            <span class="hljs-keyword">var</span> namespace = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (Mosher <span class="hljs-keyword">instanceof</span> jQuery) {
                namespace = Mosher.attr(<span class="hljs-string">'id'</span>);    
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> Mosher == <span class="hljs-string">'string'</span>) {
                <span class="hljs-keyword">if</span> (Mosher.indexOf(<span class="hljs-string">'#'</span>) == <span class="hljs-number">0</span>) {
                    Mosher = Mosher.substr(<span class="hljs-number">1</span>);
                }    
                namespace = Mosher;
            }
            <span class="hljs-keyword">return</span> namespace;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p><code>util.csv_to_class</code></p>
<hr>
<p>Convert a CSV list into a class chain that can be used with
jQuery’s <code>addClass</code>,<code>removeClass</code>, and <code>hasClass</code> methods</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        csv_to_class: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(csv,pre,post)</span> {</span>
            <span class="hljs-keyword">var</span> pre = (<span class="hljs-keyword">typeof</span> pre != <span class="hljs-string">'undefined'</span> &amp;&amp; pre.length) ? <span class="hljs-string">" "</span>+pre : <span class="hljs-string">""</span>;
            <span class="hljs-keyword">var</span> post = (<span class="hljs-keyword">typeof</span> post != <span class="hljs-string">'undefined'</span> &amp;&amp; post.length) ? post+<span class="hljs-string">" "</span> : <span class="hljs-string">""</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>get the CSV list whipped into shape</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            csv = csv.replace(<span class="hljs-string">' '</span>,<span class="hljs-string">''</span>);
            csv = csv.split(<span class="hljs-string">','</span>).join(<span class="hljs-string">'[post],'</span>).split(<span class="hljs-string">','</span>).join(<span class="hljs-string">'[pre]'</span>);
            csv = csv.replace(<span class="hljs-string">'[post]'</span>,post).replace(<span class="hljs-string">'[pre]'</span>,pre);
            csv = pre + csv + post;
            <span class="hljs-keyword">return</span> $.trim(csv);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p><code>util.shown_chain</code></p>
<hr>
<p>Generate CSS class names for <em>shown</em> elements </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        shown_chain: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(csv_list)</span> {</span>
            <span class="hljs-keyword">return</span> util.csv_to_class(csv_list,css.shown.prefix,css.shown.postfix);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p><code>util.state_chain</code></p>
<hr>
<p>Generate CSS class names for user defined states</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        state_chain: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(csv_list)</span> {</span>
            <span class="hljs-keyword">return</span> util.csv_to_class(csv_list,css.state.prefix,css.state.postfix);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p><code>util.get_sizes_chain</code></p>
<hr>
<p>Generate CSS class chain for various screen sizes based on 
the structure of <code>sizes</code> configuration object.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        get_sizes_chain: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sizes_chain) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sizes_chain;
            }
            <span class="hljs-keyword">var</span> sizes_chain = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> size <span class="hljs-keyword">in</span> sizes) {
                <span class="hljs-keyword">if</span> (sizes.hasOwnProperty(size)) {
                    sizes_chain += size+<span class="hljs-string">" "</span>;
                }
            }
            <span class="hljs-keyword">this</span>.sizes_chain = $.trim(sizes_chain);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sizes_chain;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p><code>util.get_size</code></p>
<hr>
<p>Test the current window size and return the name
of the size that matches based on <code>sizes.min</code> and
<code>sizes.max</code> configuration settings.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        get_size: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            <span class="hljs-keyword">var</span> w_w = $(window).width();
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> size <span class="hljs-keyword">in</span> sizes) {
                <span class="hljs-keyword">var</span> min = sizes[size].min;
                <span class="hljs-keyword">var</span> max = sizes[size].max;
                <span class="hljs-keyword">if</span> (sizes.hasOwnProperty(size)) {
                    <span class="hljs-keyword">if</span> ( w_w &gt;= min &amp;&amp; w_w &lt;= max ) {
                        <span class="hljs-keyword">return</span> size;
                    }
                }
            } 
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p><code>util.is_shown</code></p>
<hr>
<p>Helper method to see if a <em>module</em> is currently displayed/shown.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        is_shown: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespace)</span> {</span>
            <span class="hljs-keyword">return</span> $body.hasClass(util.shown_chain(namespace));
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p><code>util.is_state</code></p>
<hr>
<p>Helper method to see if an application state is currently set.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        is_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(state)</span> {</span>
            <span class="hljs-keyword">return</span> $html.hasClass(css.state.prefix + state + css.state.postfix);
        }
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <h1 id="handlers">handlers</h1>

            </div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Various events we care about</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> handlers = {</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p><code>handlers.hide</code></p>
<hr>
<p>Hide a <em>module</em></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        hide: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespace)</span> {</span>
            $body.removeClass(util.shown_chain(namespace)); 
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p><code>handlers.show</code></p>
<hr>
<p>Show a <em>module</em></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        show: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(namespace)</span> {</span>
            $body.addClass(util.shown_chain(namespace)); 
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p><code>handlers.toggle</code></p>
<hr>
<p>Flip a <em>module’s</em> view state between hidden
and shown based on it’s current</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        toggle: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(csv_namespace)</span> {</span>
            csv_namespace = csv_namespace.split(<span class="hljs-string">','</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,z=csv_namespace.length;i&lt;z;i++) {
                <span class="hljs-keyword">var</span> namespace = $.trim(csv_namespace[i]);
                <span class="hljs-keyword">if</span> (util.is_shown(namespace)) {
                    handlers.hide(namespace);
                } <span class="hljs-keyword">else</span> {
                    handlers.show(namespace);    
                }
            }
        },
        marionette_hide: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            handlers.hide(util.get_namespace(<span class="hljs-keyword">this</span>.el));
        },
        marionette_show: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
            handlers.show(util.get_namespace(<span class="hljs-keyword">this</span>.el));
        },
        add_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(state)</span> {</span>
            $html.addClass(<span class="hljs-string">"state_"</span>+state);   
        },
        del_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(state)</span> {</span>
            $html.removeClass(<span class="hljs-string">"state_"</span>+state);   
        },
        toggle_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(csv_state)</span> {</span>
            csv_state = csv_state.split(<span class="hljs-string">','</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,z=csv_state.length;i&lt;z;i++) {
                <span class="hljs-keyword">var</span> state = $.trim(csv_state[i]);
                <span class="hljs-keyword">if</span> (util.is_state(state)) {
                    handlers.del_state(state);
                } <span class="hljs-keyword">else</span> {
                    handlers.add_state(state);    
                }
            }
        },
        resize: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(evnt,stable)</span> {</span>
            clearTimeout(timers.resize);
            <span class="hljs-keyword">if</span> (stable) {
                $html.removeClass(util.get_sizes_chain()).addClass(util.get_size());
                <span class="hljs-keyword">return</span>;
            }
            timers.resize = setTimeout(handlers.resize,<span class="hljs-number">102</span>,evnt,<span class="hljs-literal">true</span>);
        },
        click: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(evnt)</span> {</span>
            <span class="hljs-keyword">var</span> $clicked = $(evnt.currentTarget);
            <span class="hljs-keyword">var</span> action = $clicked.data(<span class="hljs-string">'moshpit'</span>);
            <span class="hljs-keyword">var</span> namespace = $clicked.data(<span class="hljs-string">'mosher'</span>);

            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> handlers[action] != <span class="hljs-string">'undefined'</span>) {
                handlers[action](namespace);
                evnt.preventDefault(); <span class="hljs-comment">// assume we want to stop the default, allow propagation.</span>
            }
        }
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>MoshPit private setup funcs</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-keyword">var</span> moshpit = {
        moshers:{},
        jq_funcs:<span class="hljs-literal">false</span>,
        add_marionette: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Mosher)</span> {</span>
            Mosher.on(<span class="hljs-string">'show'</span>, handlers.marionette_show);
            Mosher.on(<span class="hljs-string">'close'</span>, handlers.marionette_hide);
            moshpit.add_jquery.call(moshpit,$(Mosher.el));
        },
        del_marionette: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Mosher)</span> {</span>
            Mosher.off(<span class="hljs-string">'show'</span>, handlers.marionette_show);
            Mosher.off(<span class="hljs-string">'close'</span>, handlers.marionette_hide);
            moshpit.del_jquery.call(moshpit,$(Mosher.el));
        },
        add_jquery: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($Mosher)</span> {</span>
            <span class="hljs-keyword">var</span> namespace = util.get_namespace($Mosher);
            <span class="hljs-keyword">if</span> (moshpit.jq_funcs === <span class="hljs-literal">false</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>copy the origional methods so we can 
swap out the defaults to patch in functionality</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                moshpit.jq_funcs = {};
                moshpit.jq_funcs.show = $.fn.show;
                $.fn.show = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
                    <span class="hljs-keyword">var</span> namespace = util.get_namespace($(<span class="hljs-keyword">this</span>));
                    <span class="hljs-keyword">if</span> (moshpit.moshers[namespace]) {
                        handlers.show(namespace);
                    } <span class="hljs-keyword">else</span> {
                        console.log(moshpit);
                        moshpit.jq_funcs.show.apply(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">arguments</span>);    
                    }
                };
                moshpit.jq_funcs.hide = $.fn.hide;
                $.fn.hide = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
                    <span class="hljs-keyword">var</span> namespace = util.get_namespace($(<span class="hljs-keyword">this</span>));
                    <span class="hljs-keyword">if</span> (moshpit.moshers[namespace]) {
                        handlers.hide(namespace);
                    } <span class="hljs-keyword">else</span> {
                        moshpit.jq_funcs.show.apply(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">arguments</span>);    
                    }
                };    
                moshpit.jq_funcs.toggle = $.fn.toggle;
                $.fn.toggle = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
                    <span class="hljs-keyword">var</span> namespace = util.get_namespace($(<span class="hljs-keyword">this</span>));
                    <span class="hljs-keyword">if</span> (moshpit.moshers[namespace]) {
                        handlers.toggle(namespace); 
                    } <span class="hljs-keyword">else</span> {
                        moshpit.jq_funcs.toggle.apply(<span class="hljs-keyword">this</span>,<span class="hljs-built_in">arguments</span>);    
                    }     
                }
            }
            moshpit.moshers[namespace] = <span class="hljs-literal">true</span>;
        },
        del_jquery: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($Mosher)</span> {</span>
            <span class="hljs-keyword">var</span> namespace = util.get_namespace($Mosher);
            moshpit.moshers[namespace] = <span class="hljs-literal">false</span>;
            handlers.hide(namespace);
        }
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>expose publics</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    window.MoshPit = {
        join: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Mosher)</span> {</span>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> Mosher == <span class="hljs-string">'string'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>assume this is the id, see if we can find it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                Mosher = $(<span class="hljs-string">'#'</span>+util.get_namespace(Mosher));
                <span class="hljs-keyword">if</span> (Mosher.length) {</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>we found a matchin element, use it!</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    moshpit.add_jquery.call(moshpit, Mosher);
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> Mosher == <span class="hljs-string">'object'</span>) {
                <span class="hljs-keyword">if</span> (Mosher <span class="hljs-keyword">instanceof</span> jQuery) {
                    moshpit.add_jquery.call(moshpit, Mosher);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Mosher <span class="hljs-keyword">instanceof</span> Marionette.Region
                           || Mosher <span class="hljs-keyword">instanceof</span> Marionette.View
                           || Mosher <span class="hljs-keyword">instanceof</span> Marionette.ItemView
                           || Mosher <span class="hljs-keyword">instanceof</span> Marionette.Layout) {
                    moshpit.add_marionette.call(moshpit, Mosher);
                }
            }
        },
        leave: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Mosher)</span> {</span></pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>implement tear down</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> Mosher == <span class="hljs-string">'string'</span>) {</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>assume this is the id, see if we can find it</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                Mosher = $(<span class="hljs-string">'#'</span>+util.get_namespace(Mosher));
                <span class="hljs-keyword">if</span> (Mosher.length) {</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>we found a matchin element, use it!</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>                    moshpit.del_jquery.call(moshpit, Mosher);
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> Mosher == <span class="hljs-string">'object'</span>) {
                <span class="hljs-keyword">if</span> (Mosher <span class="hljs-keyword">instanceof</span> jQuery) {
                    moshpit.del_jquery.call(moshpit, Mosher);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Mosher <span class="hljs-keyword">instanceof</span> Marionette.Region
                           || Mosher <span class="hljs-keyword">instanceof</span> Marionette.View
                           || Mosher <span class="hljs-keyword">instanceof</span> Marionette.ItemView
                           || Mosher <span class="hljs-keyword">instanceof</span> Marionette.Layout) {
                    moshpit.del_marionette.call(moshpit, Mosher);
                }
            }
        },
        show: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Mosher)</span> {</span>
            <span class="hljs-keyword">var</span> namespace = util.get_namespace(Mosher);
            handlers.show(namespace);            
        },
        hide: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Mosher)</span> {</span>
            <span class="hljs-keyword">var</span> namespace = util.get_namespace(Mosher);
            handlers.hide(namespace);
        },
        toggle: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Mosher)</span> {</span>
            <span class="hljs-keyword">var</span> namespace = util.get_namespace(Mosher);
            handlers.toggle(namespace);
        },
        add_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(state)</span> {</span>
            handlers.add_state(state);
        },
        remove_state: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(state)</span> {</span>
            handlers.del_state(state);
        },
        is_shown: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Mosher)</span> {</span>
            <span class="hljs-keyword">var</span> namespace = util.get_namespace(Mosher);    
            <span class="hljs-keyword">return</span> util.is_shown(namespace);
        }
    };</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>setup our handlers for window resizes and clicks on elements we
know we care about.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>    $(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>{</span>
        handlers.resize();
        $html = $(<span class="hljs-string">'html'</span>);
        $body = $(<span class="hljs-string">'body'</span>);
        $(window).on(<span class="hljs-string">'resize'</span>, handlers.resize);
        $(document).on(<span class="hljs-string">'click'</span>,<span class="hljs-string">'[data-moshpit]'</span>, handlers.click);
    });
})(jQuery);</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
